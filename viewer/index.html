<!DOCTYPE html>
<meta charset="utf-8">
<title>WebAudio Viewer</title>

<link href="https://fonts.googleapis.com/css?family=Lusitana" rel="stylesheet">
<style>

    path.link {
        fill: none;
        stroke: #666;
        stroke-width: 2px;
    }

    circle {
        fill: #FFFFFF;
        stroke: #000;
        stroke-width: 2px;
    }


    link-label {
        font-family: 'Lusitana', serif;
    }

    text {
        fill: #000;
        font: 25px sans-serif;
        font-family: 'Lusitana', serif;
        pointer-events: none;
    }

</style>

<link rel="stylesheet" href="assets/css/app.css" />
<link rel="stylesheet" href="assets/css/bootstrap.css" />
<link rel="stylesheet" href="assets/css/dagre.css" />

<script src="https://d3js.org/d3.v4.min.js" charset="utf-8"></script>
<script src="dagre-d3.js"></script>



<div class="container-fluid">
    <div class="row">
        <div class="col-md-3">
            <div class="text-center">
            <img src="assets/logo/logo.png" style="width: 100px; padding: 5px;"/>
                <p>WebAudio Viewer</p>
            </div>
            <form id="inputForm" onsubmit="results()">
                <button type="submit" onclick="" class="btn btn-outline-success btn-lg btn-block">Run</button>
            </form>
        </div>

        <div class="col-md-9">
            <textarea id="webaudioIn" name="webaudioIn" form="inputForm" class="form-control" style="height:200px;"></textarea>
            <br>
            <div id="writeback"></div>
            <svg id="svg-content" class="img-fluid">
                <g/>
            </svg>
        </div>
    </div>
</div>

<script>
    var form = document.forms["inputForm"];
    form.onsubmit= function () {
        var audioIn = document.getElementById("webaudioIn").value;
        document.getElementById("writeback").innerHTML = audioIn;

        loadJS('try.js', yourCodeToBeCalled, document.body);

        return false;

    }

    var loadJS = function(url, implementationCode, location){
        //url is URL of external file, implementationCode is the code
        //to be called from the file, location is the location to
        //insert the <script> element

        var scriptTag = document.createElement('script');
        scriptTag.src = url;

        scriptTag.onload = implementationCode;
        scriptTag.onreadystatechange = implementationCode;

        location.appendChild(scriptTag);
    };
    var yourCodeToBeCalled = function(){
//your code goes here
    }


</script>